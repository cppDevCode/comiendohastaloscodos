<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras</title>
    <link rel="shortcut icon" href="./img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./estilos/carrito.css">
</head>
<body>
    <header>
        <h1>Tu Carrito de Compras</h1>
    </header>
    <main>
        <section class="seccion-carrito">
            <h2>Productos en tu carrito</h2>
            <ul id="listaProductosAComprar"></ul>
            <div class="total">
                <p>Total: <span id="precio">$0.00</span></p>
            </div>
        </section>
        <section class="seccion-checkout">
            <div class="seccion-envio">
                <h2>Información de Envío</h2>
                <form id="formulario-envio">
                    <label for="direccion">Dirección:</label>
                    <input type="text" id="direccion" name="direccion" required>
                    <label for="vivienda-tipo">Tipo de Vivienda:</label>
                    <select id="vivienda-tipo" name="vivienda-tipo" required>
                        <option value="casa">Casa</option>
                        <option value="departamento">Departamento</option>
                    </select>
                    <label for="telefono">Teléfono de Contacto:</label>
                    <input type="tel" id="telefono" name="telefono" required>
                    <label for="informacion-adicional">Información Adicional:</label>
                    <textarea id="informacion-adicional" name="informacion-adicional"></textarea>
                    <button type="submit">Confirmar Envío</button>
                </form>
            </div>
            <div class="seccion-pago">
                <h2>Información de Pago</h2>
                <form id="formulario-pago">
                    <label for="card-number">Número de Tarjeta:</label>
                    <input type="text" id="card-number" name="card-number" required>
                    <label for="expiry-date">Fecha de Vencimiento:</label>
                    <input type="text" id="expiry-date" name="expiry-date" required>
                    <label for="cvv">CVV:</label>
                    <input type="text" id="cvv" name="cvv" required>
                    <button type="submit">Procesar Pago</button>
                </form>
            </div>
        </section>
        <a href="market.html">Volver a la página de Delivery</a>
        <button id="cancelarCompra">Cancelar compra</button>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                function limpiarCarrito() {
                    localStorage.removeItem('carrito'); 
                    document.getElementById('listaProductosAComprar').innerHTML = ''; 
                    location.reload();
                }
                document.getElementById('cancelarCompra').addEventListener('click', function() {
                    if (confirm('¿Estás seguro de que deseas cancelar la compra y borrar todos los productos del carrito?')) {
                        limpiarCarrito();
                        alert('Compra cancelada y carrito limpiado.');
                    }
                });
            });
        </script>
    </main>
    <script src="./js/market.js"></script>
    <script src="./js/carrito.js"></script>
</body>
</html>
